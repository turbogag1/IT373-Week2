{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <h1>{{ announcement.title }}</h1>
  <p><small>Posted on: {{ announcement.date_posted }}</small></p>

  <!-- Content with Read More toggle -->
  <div id="announcement-content" class="mt-3">
    <p id="short-content">
      {{ announcement.content|truncatechars:200 }}
    </p>
    <p id="full-content" style="display: none;">
      {{ announcement.content }}
    </p>
    <button id="toggle-button" class="btn btn-primary mt-2">Read more</button>
  </div>

  <a href="{% url 'announcements' %}" class="btn btn-link mt-3">‚Üê Back to announcements</a>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const btn = document.getElementById("toggle-button");
  const shortText = document.getElementById("short-content");
  const fullText = document.getElementById("full-content");

  btn.addEventListener("click", function() {
    if (fullText.style.display === "none") {
      fullText.style.display = "block";
      shortText.style.display = "none";
      btn.textContent = "Show less";
    } else {
      fullText.style.display = "none";
      shortText.style.display = "block";
      btn.textContent = "Read more";
    }
  });
});
</script>
{% endblock %}
